diff -ru hwloc-1.6.1.orig/include/private/misc.h hwloc-1.6.1/include/private/misc.h
--- hwloc-1.6.1.orig/include/private/misc.h	2012-11-12 06:33:06.000000000 -0500
+++ hwloc-1.6.1/include/private/misc.h	2013-01-17 13:20:01.000000000 -0500
@@ -53,7 +53,7 @@
  */
 #    define HWLOC_NO_FFS
 
-#elif defined(__GNUC__)
+#elif defined(__GNUC__) && !defined(_CRAYC)
 
 #  if (__GNUC__ >= 4) || ((__GNUC__ == 3) && (__GNUC_MINOR__ >= 4))
      /* Starting from 3.4, gcc has a long variant.  */
